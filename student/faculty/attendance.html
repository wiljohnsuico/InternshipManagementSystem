<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/student/styles/home-navbar.css">
    <link rel="stylesheet" href="/student/styles/faculty.css">
    <link rel="stylesheet" href="/student/styles/faculty-attendance.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet"/>
    <title>Attendance Tracking - Faculty</title>
</head>
<body>
    <header>
        <!---NAV BAR--->
        <div class="nav-bar">
            <div class="logo">
                <img src="/student/imgs/qcuims-logo.png" alt="logo">
            </div>
            
            <div class="nav-links">
                <a href="faculty.html" class="dashboard-btn">
                    <i class="fas fa-home"></i>
                    Dashboard
                </a>
                <div class="profile">
                    <button class="dropdown-profile">Menu</button>
                    <div class="profile-content">
                       <a href="#" id="logoutLink">Log out</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="dashboard">
            <header class="header">
                <h1>Attendance Tracking</h1>
                <p>Monitor your students' attendance and performance</p>
            </header>

            <div class="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div class="stat-info">
                        <span id="present-count">0</span>
                        <p>Present Today</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-user-slash"></i>
                    </div>
                    <div class="stat-info">
                        <span id="absent-count">0</span>
                        <p>Absent Today</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <span id="avg-hours">0</span>
                        <p>Avg. Hours/Day</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-percentage"></i>
                    </div>
                    <div class="stat-info">
                        <span id="attendance-rate">0%</span>
                        <p>Attendance Rate</p>
                    </div>
                </div>
            </div>

            <div class="filter-section">
                <div class="date-filter">
                    <label for="date-selector">Date:</label>
                    <input type="date" id="date-selector" />
                    <button id="today-btn">Today</button>
                </div>
                <div class="search">
                    <input type="text" id="searchInput" placeholder="Search by name or ID..."/>
                </div>
                <div class="view-options">
                    <button id="daily-view-btn" class="active">Daily View</button>
                    <button id="summary-view-btn">Summary View</button>
                </div>
            </div>

            <!-- Daily Attendance View -->
            <div id="daily-view" class="table-container">
                <div class="info-message">
                    <i class="fas fa-info-circle"></i>
                    <span>Showing attendance for <span id="current-date-display">today</span></span>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Student ID</th>
                            <th>Name</th>
                            <th>Company</th>
                            <th>Status</th>
                            <th>Time In</th>
                            <th>Time Out</th>
                            <th>Duration</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="attendanceTableBody"></tbody>
                </table>
            </div>

            <!-- Summary View -->
            <div id="summary-view" class="table-container" style="display: none;">
                <div class="date-range-filter">
                    <label for="start-date">From:</label>
                    <input type="date" id="start-date" />
                    <label for="end-date">To:</label>
                    <input type="date" id="end-date" />
                    <button id="apply-range-btn">Apply</button>
                    <button id="this-week-btn">This Week</button>
                    <button id="this-month-btn">This Month</button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Student ID</th>
                            <th>Name</th>
                            <th>Company</th>
                            <th>Days Present</th>
                            <th>Hours Logged</th>
                            <th>Attendance Rate</th>
                            <th>First Day</th>
                            <th>Last Day</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="summaryTableBody"></tbody>
                </table>
            </div>
        </div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
    <script src="/student/scripts/faculty/faculty-attendance.js"></script>
    <script>
        // Add logout functionality
        document.getElementById('logoutLink').addEventListener('click', function(e) {
            e.preventDefault();
            // Clear any session data
            sessionStorage.clear();
            // Redirect to login page
            window.location.href = '/student/mpl-login.html';
        });
    </script>
</body>
</html> 