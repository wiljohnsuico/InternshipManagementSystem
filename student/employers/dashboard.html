<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="api-url" content="http://localhost:5004/api">
    <title>Employer Dashboard - QCU IMS</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/student/styles/home-navbar.css">
    <link rel="stylesheet" href="/student/styles/employer-dashboard.css">
    <link rel="stylesheet" href="../styles/footer.css">
    <link rel="stylesheet" href="../styles/back-to-top.css">
    <!-- Database connector script -->
    <script src="/student/scripts/database-connector.js"></script>
    <script src="/student/scripts/employer-dashboard-connector.js"></script>
    <script src="/student/scripts/employer-dashboard.js" defer></script>
</head>
<body>
    <header>
        <!---NAV BAR--->
        <div class="nav-bar">
            <div class="logo">
                <img src="/student/imgs/qcuims-logo.png" alt="logo">
                <span class="portal-name">Employer Portal</span>
            </div>
            
            <div class="nav-links">
                <a href="http://localhost:3000/student/employers/dashboard.html" class="active">Dashboard</a>
                <a href="http://localhost:3000/student/employers/job-postings.html">Job Postings</a>
                <a href="http://localhost:3000/student/employers/applications.html">Applications</a>
                <a href="http://localhost:3000/student/employers/profile.html">Company Profile</a>
                <button id="logoutBtn" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</button>
            </div>
        </div>
    </header>

    <main>
        <div class="dashboard-container">
            <div class="welcome-section">
                <h1>Welcome, <span id="companyName">Company Name</span></h1>
                <p class="subtitle">Manage your internship opportunities and applications</p>
            </div>
            
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <div class="stat-info">
                        <span id="activeJobs">0</span>
                        <p>Active Job Postings</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <div class="stat-info">
                        <span id="totalApplications">0</span>
                        <p>Total Applications</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-info">
                        <span id="hiredInterns">0</span>
                        <p>Hired Interns</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <span id="pendingApplications">0</span>
                        <p>Pending Applications</p>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" id="postNewInternshipBtn">
                    <i class="fas fa-plus-circle"></i> Post New Internship
                </button>
                <button class="btn btn-secondary" id="viewApplicationsBtn">
                    <i class="fas fa-list-ul"></i> View Applications
                </button>
            </div>
            
            <div class="dashboard-sections">
                <div class="section">
                    <div class="section-header">
                        <h2>Recent Applications</h2>
                        <a href="http://localhost:3000/student/employers/applications.html" class="view-all">View All</a>
                    </div>
                    <div class="section-content">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Applicant Name</th>
                                    <th>Position</th>
                                    <th>Applied Date</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="recentApplications">
                                <tr class="loading-row">
                                    <td colspan="5">Loading recent applications...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="section">
                    <div class="section-header">
                        <h2>Active Job Postings</h2>
                        <a href="http://localhost:3000/student/employers/job-postings.html" class="view-all">View All</a>
                    </div>
                    <div class="section-content">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Position</th>
                                    <th>Posted Date</th>
                                    <th>Applications</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="activeJobPostings">
                                <tr class="loading-row">
                                    <td colspan="5">Loading job postings...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <div id="footer-container"></div>
    <script src="../scripts/back-to-top.js"></script>
    <script>
        fetch('../components/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-container').innerHTML = data;
            });
    </script>

    <!-- Add direct navigation script -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Post New Internship direct navigation
        document.getElementById('postNewInternshipBtn').addEventListener('click', function() {
            console.log('Post New Internship button clicked');
            window.location.href = 'http://localhost:3000/student/employers/job-postings.html';
        });
        
        // View Applications direct navigation
        document.getElementById('viewApplicationsBtn').addEventListener('click', function() {
            console.log('View Applications button clicked');
            window.location.href = 'http://localhost:3000/student/employers/applications.html';
        });
    });
    </script>
</body>
</html> 